<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pick a date for meeting</title>
    <link href='../css/full_calendar.css' rel='stylesheet'/>
    <script src='../js/fullcalendar.js'></script>
    <script>
        fetch('https://ehtedhan.duckdns.org/api/available_dates')
            .then(response => response.json())
            .then(data => {
                    const dates = data.map(function (date) {
                        return {
                            title: 'مقابلة مع ممثل الجمعية',
                            start: date,
                            end: date,
                            allDay: true
                        }
                    });
                    console.log(dates)
                    var calendarEl = document.getElementById('calendar');
                    var calendar = new FullCalendar.Calendar(calendarEl, {
                        initialView: 'dayGridMonth',
                        events: dates,
                        eventClick: function(info) {
                            alert('Event: ' + info.event.start );
                        }


                    });
                    calendar.render();

                }
            );


    </script>
</head>
<body>
<div id='calendar'></div>
</body>
</html>